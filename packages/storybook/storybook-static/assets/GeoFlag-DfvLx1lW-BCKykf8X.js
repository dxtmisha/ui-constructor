import{c as R,f as w,t as u}from"./DesignConstructorAbstract-pm1V7i1G-AwalHq2u.js";import{E as S,p as A}from"./DataStorage-BS0mwKb9-CnrN-7_f.js";import{i as F}from"./getElement-uQ-JTFk--VVvc7s1q.js";import{t as g}from"./isFilled-ClO-1E4U-BUdjZhTW.js";import{s as l,z as C,I as U}from"./GeoIntl-DH3GBVnO-Ba8p-fOD.js";import{R as B}from"./EventItem-CNRiCeQO-Z63F0Mu0.js";var j=Object.defineProperty,k=(a,e,$)=>e in a?j(a,e,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[e]=$,m=(a,e,$)=>(k(a,typeof e!="symbol"?e+"":e,$),$);function K(a,e="=",$="&"){return u(a,(s,i)=>`${i}${e}${encodeURIComponent(String(s).trim())}`).sort().join($)}const O="ui-loading",h=class{static is(){return this.value>0}static show(){this.value++,this.dispatch()}static hide(){this.is()&&(this.value--,this.dispatch())}static registrationEvent(e,$){new B(window,O,e).setElementControl($).start()}static dispatch(){this.event.dispatch({loading:this.is()})}};m(h,"value",0),m(h,"event"),S()&&(h.event=new B(window,O));let L=h;const M=[],y=class G{static isLocalhost(){return typeof location>"u"||location.hostname==="localhost"}static getHeaders(e,$="application/json;charset=UTF-8"){if(e!==null){const s={...e||{}};return $&&(s["Content-Type"]=$),s}}static getUrl(e,$=!0){return`${$?this.url:""}${e}`.replace("{locale}",l.getLocation()).replace("{country}",l.getCountry()).replace("{language}",l.getLanguage())}static getBody(e={},$="GET"){if($!=="GET"&&g(e))return e instanceof FormData||C(e)?e:JSON.stringify(e)}static getBodyForGet(e,$="",s="GET"){if(s==="GET"){const i=$.match(/\?/)?"&":"?",n=typeof e=="object"?K(e):e;if(g(n))return`${i}${n}`}return""}static setUrl(e){return this.url=e,G}static async request(e){return C(e)?await this.fetch({path:e}):await this.fetch(e)}static get(e){return this.request({...e,method:"GET"})}static post(e){return this.request({...e,method:"POST"})}static put(e){return this.request({...e,method:"PUT"})}static delete(e){return this.request({...e,method:"DELETE"})}static addResponse(e){return this.response.push(...R(e)),G}static getResponse(e="",$,s){return this.response.find(i=>{if((i==null?void 0:i.disable)!==!0&&e===i.path&&$===i.method&&M.indexOf(i)===-1){let n=!1;if(s===(i==null?void 0:i.request)&&(n=!0),g(s)&&g(i.request)&&w(s)&&w(i.request)&&!(s instanceof FormData)&&!(i.request instanceof FormData)&&Object.values(s).length===Object.values(i.request).length&&(n=Object.entries(i.request).reduce((r,[p,f])=>r&&f===(s==null?void 0:s[p]),!0)),n)return M.push(i),!0}return!1})}static async fetch({api:e=!0,path:$="",pathFull:s=void 0,method:i="GET",request:n=void 0,headers:r={},type:p="application/json;charset=UTF-8",global:f=i==="GET",init:P={}}){if(f){const o=this.getResponse($,i,n);if(o)return F(o.response)}let T={};L.show();try{const o=s??this.getUrl($,e),I=`${o}${this.getBodyForGet(n,o,i)}`;T=await(await fetch(I,{...P,method:i,headers:this.getHeaders(r,p),body:this.getBody(n,i)})).json()}catch(o){console.error(o)}return L.hide(),T}};m(y,"url",A("api","/")),m(y,"response",[]);let D=y;var q=Object.defineProperty,H=(a,e,$)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[e]=$,b=(a,e,$)=>(H(a,typeof e!="symbol"?e+"":e,$),$);const v="__UI_ICON",N=320,E="--LOAD--",c=class{static is(e){return e in this.icons||this.getName(e)in this.icons}static async get(e,$="",s=1e3*60*3){var i,n;const r=((i=this.icons)==null?void 0:i[this.getName(e)])??((n=this.icons)==null?void 0:n[e])??`${e.replace(/^@/,$??this.url)}.svg`;return typeof r=="string"?r===E&&s>0?(await this.wait(),this.get(e,$,s-N)):r:await r}static getNameList(){return u(this.icons,(e,$)=>$.replace(/^@/,""))}static add(e,$){this.icons[this.getName(e)]=$}static addLoad(e){this.icons[this.getName(e)]=E}static addGlobal(e,$){this.icons[this.getName(e)]=`${this.urlGlobal}${$}`}static addByList(e){u(e,($,s)=>this.add(s,$))}static getName(e){return`@${e}`}static wait(){return new Promise(e=>setTimeout(()=>e(),N))}};b(c,"icons",{}),b(c,"url",A("UI_PATH")??"/icons/"),b(c,"urlGlobal",`${D.isLocalhost(),""}${c.url}`),S()&&(v in window||(window[v]={}),c.icons=window[v]);let $t=c;var z=Object.defineProperty,V=(a,e,$)=>e in a?z(a,e,{enumerable:!0,configurable:!0,writable:!0,value:$}):a[e]=$,Z=(a,e,$)=>(V(a,typeof e!="symbol"?e+"":e,$),$);const t="@flag",W=class d{constructor(e=l.getLocation()){this.code=e}get(e=this.code){var $;const s=l.find(e);if(s){const i=this.getCountry(s);return{language:this.getLanguage(s),country:i,standard:s.standard,icon:($=d.flags)==null?void 0:$[s.country],label:i,value:s.country}}}getFlag(e=this.code){var $;return($=this.get(e))==null?void 0:$.icon}getList(e){return u(this.getCodes(e),$=>this.get($))}getNational(e){return u(this.getList(e),$=>{const s=new d($.language).get($.standard);return{...$,nationalLanguage:s==null?void 0:s.language,nationalCountry:s==null?void 0:s.country}})}setCode(e){return this.code=e,this}getLocation(){return new U(this.code)}getCodes(e){return e??Object.keys(d.flags)}getLanguage(e){return this.getLocation().languageName(e.language)}getCountry(e){return this.getLocation().countryName(e.country)}};Z(W,"flags",{AD:`${t}-ad`,AE:`${t}-ae`,AF:`${t}-af`,AG:`${t}-ag`,AI:`${t}-ai`,AL:`${t}-al`,AM:`${t}-am`,AN:`${t}-an`,AO:`${t}-ao`,AQ:`${t}-aq`,AR:`${t}-ar`,AS:`${t}-as`,AT:`${t}-at`,AU:`${t}-au`,AW:`${t}-aw`,AX:`${t}-ax`,AZ:`${t}-az`,BA:`${t}-ba`,BB:`${t}-bb`,BD:`${t}-bd`,BE:`${t}-be`,BF:`${t}-bf`,BG:`${t}-bg`,BH:`${t}-bh`,BI:`${t}-bi`,BJ:`${t}-bj`,BL:`${t}-bl`,BM:`${t}-bm`,BN:`${t}-bn`,BO:`${t}-bo`,BQ:`${t}-bq`,BR:`${t}-br`,BS:`${t}-bs`,BT:`${t}-bt`,BV:`${t}-bv`,BW:`${t}-bw`,BY:`${t}-by`,BZ:`${t}-bz`,CA:`${t}-ca`,CC:`${t}-cc`,CD:`${t}-cd`,CF:`${t}-cf`,CG:`${t}-cg`,CH:`${t}-ch`,CI:`${t}-ci`,CK:`${t}-ck`,CL:`${t}-cl`,CM:`${t}-cm`,CN:`${t}-cn`,CO:`${t}-co`,CR:`${t}-cr`,CU:`${t}-cu`,CV:`${t}-cv`,CW:`${t}-cw`,CX:`${t}-cx`,CY:`${t}-cy`,CZ:`${t}-cz`,DE:`${t}-de`,DJ:`${t}-dj`,DK:`${t}-dk`,DM:`${t}-dm`,DO:`${t}-do`,DZ:`${t}-dz`,EC:`${t}-ec`,EE:`${t}-ee`,EG:`${t}-eg`,EH:`${t}-eh`,ER:`${t}-er`,ES:`${t}-es`,ET:`${t}-et`,FI:`${t}-fi`,FJ:`${t}-fj`,FK:`${t}-fk`,FM:`${t}-fm`,FO:`${t}-fo`,FR:`${t}-fr`,GA:`${t}-ga`,GB:`${t}-gb`,GD:`${t}-gd`,GE:`${t}-ge`,GF:`${t}-gf`,GG:`${t}-gg`,GH:`${t}-gh`,GI:`${t}-gi`,GL:`${t}-gl`,GM:`${t}-gm`,GN:`${t}-gn`,GP:`${t}-gp`,GQ:`${t}-gq`,GR:`${t}-gr`,GT:`${t}-gt`,GU:`${t}-gu`,GW:`${t}-gw`,GY:`${t}-gy`,HK:`${t}-hk`,HM:`${t}-hm`,HN:`${t}-hn`,HR:`${t}-hr`,HT:`${t}-ht`,HU:`${t}-hu`,ID:`${t}-id`,IE:`${t}-ie`,IL:`${t}-il`,IM:`${t}-im`,IN:`${t}-in`,IO:`${t}-io`,IQ:`${t}-iq`,IR:`${t}-ir`,IS:`${t}-is`,IT:`${t}-it`,JE:`${t}-je`,JM:`${t}-jm`,JO:`${t}-jo`,JP:`${t}-jp`,KE:`${t}-ke`,KG:`${t}-kg`,KH:`${t}-kh`,KI:`${t}-ki`,KM:`${t}-km`,KN:`${t}-kn`,KP:`${t}-kp`,KR:`${t}-kr`,KW:`${t}-kw`,KY:`${t}-ky`,KZ:`${t}-kz`,LA:`${t}-la`,LB:`${t}-lb`,LC:`${t}-lc`,LI:`${t}-li`,LK:`${t}-lk`,LR:`${t}-lr`,LS:`${t}-ls`,LT:`${t}-lt`,LU:`${t}-lu`,LV:`${t}-lv`,LY:`${t}-ly`,MA:`${t}-ma`,MC:`${t}-mc`,MD:`${t}-md`,ME:`${t}-me`,MF:`${t}-mf`,MG:`${t}-mg`,MH:`${t}-mh`,MK:`${t}-mk`,ML:`${t}-ml`,MM:`${t}-mm`,MN:`${t}-mn`,MO:`${t}-mo`,MP:`${t}-mp`,MQ:`${t}-mq`,MR:`${t}-mr`,MS:`${t}-ms`,MT:`${t}-mt`,MU:`${t}-mu`,MV:`${t}-mv`,MW:`${t}-mw`,MX:`${t}-mx`,MY:`${t}-my`,MZ:`${t}-mz`,NA:`${t}-na`,NC:`${t}-nc`,NE:`${t}-ne`,NF:`${t}-nf`,NG:`${t}-ng`,NI:`${t}-ni`,NL:`${t}-nl`,NO:`${t}-no`,NP:`${t}-np`,NR:`${t}-nr`,NU:`${t}-nu`,NZ:`${t}-nz`,OM:`${t}-om`,PA:`${t}-pa`,PE:`${t}-pe`,PF:`${t}-pf`,PG:`${t}-pg`,PH:`${t}-ph`,PK:`${t}-pk`,PL:`${t}-pl`,PM:`${t}-pm`,PN:`${t}-pn`,PR:`${t}-pr`,PS:`${t}-ps`,PT:`${t}-pt`,PW:`${t}-pw`,PY:`${t}-py`,QA:`${t}-qa`,RE:`${t}-re`,RO:`${t}-ro`,RS:`${t}-rs`,RU:`${t}-ru`,RW:`${t}-rw`,SA:`${t}-sa`,SB:`${t}-sb`,SC:`${t}-sc`,SD:`${t}-sd`,SE:`${t}-se`,SG:`${t}-sg`,SH:`${t}-sh`,SI:`${t}-si`,SJ:`${t}-sj`,SK:`${t}-sk`,SL:`${t}-sl`,SM:`${t}-sm`,SN:`${t}-sn`,SO:`${t}-so`,SR:`${t}-sr`,SS:`${t}-ss`,ST:`${t}-st`,SV:`${t}-sv`,SX:`${t}-sx`,SY:`${t}-sy`,SZ:`${t}-sz`,TC:`${t}-tc`,TD:`${t}-td`,TG:`${t}-tg`,TH:`${t}-th`,TJ:`${t}-tj`,TK:`${t}-tk`,TL:`${t}-tl`,TM:`${t}-tm`,TN:`${t}-tn`,TO:`${t}-to`,TR:`${t}-tr`,TT:`${t}-tt`,TV:`${t}-tv`,TW:`${t}-tw`,TZ:`${t}-tz`,UA:`${t}-ua`,UG:`${t}-ug`,US:`${t}-us`,UY:`${t}-uy`,UZ:`${t}-uz`,VA:`${t}-va`,VC:`${t}-vc`,VE:`${t}-ve`,VG:`${t}-vg`,VI:`${t}-vi`,VN:`${t}-vn`,VU:`${t}-vu`,WF:`${t}-wf`,WS:`${t}-ws`,YE:`${t}-ye`,YT:`${t}-yt`,ZA:`${t}-za`,ZM:`${t}-zm`,ZW:`${t}-zw`});export{t as $,K as C,D as F,$t as g};
