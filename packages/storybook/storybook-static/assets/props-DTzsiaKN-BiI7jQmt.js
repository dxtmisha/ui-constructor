import{h as o,s as u,a as c,c as S}from"./vue.esm-bundler-DKn_-kmd.js";import{m as x,v as B,h as I,t as C,P as M,y as V,r as E}from"./useEnabled-BTR3ciPG-BYSamwcS.js";import{Z as w,a as O,s as b}from"./DesignConstructorAbstract-pm1V7i1G-DKYGky5W.js";import{a as k}from"./isArray-QlWcxgml-TsNjkBGN.js";import{t as v}from"./isFilled-ClO-1E4U-BUdjZhTW.js";import{e as j}from"./getBind-CgHMfjrB-mdqCrtd3.js";import{h as y}from"./useInputCheck-DS0d910p-eprLVnsr.js";import{b as d}from"./FieldMessageDesign-BdZzFt32-DrCUyb2g.js";const f={type:"text",autocomplete:"off"},q={...x,...B,...I,name:String,value:String,valueVariant:String,modelValue:String,detail:Object,type:{type:String,default:f.type},inputmode:String,spellcheck:Boolean,required:Boolean,pattern:String,match:[String,Object],arrow:Boolean,step:[String,Number],min:[String,Number],max:[String,Number],minlength:[String,Number],maxlength:[String,Number],autofocus:Boolean,autocomplete:{type:String,default:f.autocomplete},input:Object,placeholder:String,helperMessage:String,validationMessage:String,validationCode:[String,Object],on:Object,"onUpdate:value":Function,"onUpdate:modelValue":Function};var N=Object.defineProperty,P=(i,t,e)=>t in i?N(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,a=(i,t,e)=>(P(i,typeof t!="symbol"?t+"":t,e),e);class ${constructor(t,e,s,n){this.props=t,this.element=e,this.type=s,this.pattern=n}get(){const t=this.element.value;if(t)return"input"in t?t.input:t}getName(){var t;return((t=this.get())==null?void 0:t.name)??""}getPattern(){var t,e,s,n,l,h,r,p,g,m;return{name:(t=this.props)==null?void 0:t.name,type:(e=this.type)==null?void 0:e.get(),required:(s=this.props)==null?void 0:s.required,pattern:(n=this.pattern)==null?void 0:n.get(),step:(l=this.props)==null?void 0:l.step,min:(h=this.props)==null?void 0:h.min,max:(r=this.props)==null?void 0:r.max,minlength:(p=this.props)==null?void 0:p.minlength,maxlength:(g=this.props)==null?void 0:g.maxlength,...((m=this.props)==null?void 0:m.input)??{}}}findByName(t){var e;if(t instanceof Element)return t;const s=(e=this.get())==null?void 0:e.form;if(s){const l=s.querySelector(`[name="${t}"]`);if(l)return l}const n=document.querySelector(t);if(n)return n}clear(){var t;const e=this.element.value;return e&&"clear"in e&&((t=e.clear)==null||t.call(e)),this}}class R extends ${constructor(t,e){super(t,e)}getPattern(){var t,e,s;return{name:(t=this.props)==null?void 0:t.name,type:"checkbox",required:(e=this.props)==null?void 0:e.required,...((s=this.props)==null?void 0:s.input)??{}}}}class D{constructor(){a(this,"change",!1)}get(){return this.change}set(t){return this.change=t,this}toChange(){return this.set(!0)}reset(){return this.set(!1)}}class F{constructor(t,e,s,n){a(this,"value"),a(this,"valueIs",!1),this.props=t,this.element=e,this.change=s,this.callback=n,this.value=this.getOriginal()}is(){var t;return this.valueIs||this.getBoolean()||!!((t=this.props)!=null&&t.placeholder)}get(){return this.value}getString(){var t;const e=this.get();return k(e)?e.join(", "):b(e)?JSON.stringify(e):e===!0?"1":e===!1?"0":v(e)?((t=e==null?void 0:e.toString)==null?void 0:t.call(e))??"":""}getNumber(){return this.getBoolean()?parseFloat(this.getString()):0}getBoolean(){return v(this.get())}getOriginal(){var t,e;return((t=this.props)==null?void 0:t.value)||((e=this.props)==null?void 0:e.modelValue)}getLength(){const t=this.get();return k(t)?t.length:b(t)?Object.keys(t).length:this.getString().length??0}set(t){return this.value!==t&&(this.value=t,this.change.set(!0),this.callback()),this}setByEvent(t){switch(typeof t){case"object":t&&("value"in t?this.set(t.value):"target"in t&&this.setByTarget(t.target),"valueIs"in t&&(this.valueIs=t.valueIs));break;default:this.set(t);break}return this}setByTarget(t){const e=this.isCheckbox(t)?t.checked:t.value;return this.set(e)}setByChecked(t){const e=t.target;return this.set(e.checked)}setByRadio(t){const e=t.target,s=e.checked?e.value:"";return this.set(s)}update(){return this.set(this.getOriginal())}clear(){return this.set(""),this.element.clear(),this.valueIs=!1,this}isCheckbox(t){return t.type==="checkbox"}}class L{constructor(t,e){this.props=t,this.value=e}get(){var t;const e=this.getIcon();return j(((t=this.props)==null?void 0:t.icon)??e,{value:e})}getIcon(){var t,e,s;if(this.value.getBoolean())return(t=this.props)!=null&&t.indeterminate?(e=this.props)==null?void 0:e.iconIndeterminate:(s=this.props)==null?void 0:s.iconCheckbox}}class H{constructor(t){this.props=t}get(t){var e;const s=(e=this.props)==null?void 0:e.validationCode;if(s&&!t.valid){if(typeof s=="string")return s;{const n=this.getIndex(t);if(n&&n in s)return s[n]}}}getIndex(t){for(const e in t)if(e!=="valid"&&t[e])return e}}class _{constructor(t,e,s,n,l,h,r){a(this,"item"),a(this,"validation"),a(this,"cache"),a(this,"cacheValue"),this.props=t,this.element=e,this.change=s,this.value=n,this.code=l,this.match=h,this.callback=r,this.item=y(this.element.getPattern())}isError(){var t;return!((t=this.get())!=null&&t.status)}checkValidity(){var t;const e=!this.isError();return(t=this.callback)==null||t.call(this),e}get(){var t;return(this.cacheValue!==this.value.get()||this.cache===void 0)&&(this.cacheValue=this.value.get(),this.cache=this.checkGlobal()??this.checkItem()??((t=this.match)==null?void 0:t.check())),!this.change.get()||!this.cache?{value:void 0}:this.cache}getMessage(){var t;return((t=this.get())==null?void 0:t.validationMessage)??""}set(t){return"status"in t&&"validationMessage"in t&&"value"in t?this.validation={status:t.status,required:t==null?void 0:t.required,input:t==null?void 0:t.input,validationMessage:t.validationMessage,validity:t==null?void 0:t.validity,pattern:t==null?void 0:t.pattern,value:t.value}:this.validation=void 0,this}update(){return this.item=y(this.element.getPattern()),this}checkGlobal(){var t;return(t=this.props)!=null&&t.validationMessage?{status:!1,validationMessage:this.props.validationMessage,value:this.value.get()}:this.validation??void 0}checkItem(){const t=this.item.check(this.value.get());if(!(t!=null&&t.status))return t}}class A{constructor(t,e,s,n,l){this.props=t,this.change=e,this.value=s,this.validation=n,this.callbackEmit=l}onInput(t){this.isEnabled()&&(this.validation.set(t),this.value.setByEvent(t),this.on(t))}onChange(t){this.isEnabled()&&this.on(t,"change")}onSelect(t){this.isEnabled()&&(this.value.setByEvent(t),this.on(t).onChange(t))}onChecked(t){this.isEnabled()&&(this.value.setByChecked(t),this.on(t).onChange(t))}onRadio(t){this.isEnabled()&&(this.value.setByRadio(t),this.on(t).onChange(t))}onClear(t){this.isEnabled()&&(this.value.clear(),this.on(t).onChange(t))}on(t,e="input"){if(this.callbackEmit(e,t,{...this.getValidation(e),...this.getData()}),e==="input"){const s=this.value.get();this.callbackEmit("update:value",s,{value:s}),this.callbackEmit("update:modelValue",s,{value:s})}return this}isValue(t){return!!(t&&["input","change"].indexOf(t)>=0)}isEnabled(){var t;return((t=this.props)==null?void 0:t.disabled)!==!0}getData(){return{value:this.value.get(),detail:this.props.detail}}getValidation(t){return this.isValue(t)?this.validation.get():{}}}class T{constructor(t,e,s,n){a(this,"element"),a(this,"change"),a(this,"value"),a(this,"icon"),a(this,"code"),a(this,"validation"),a(this,"event"),this.element=new R(t,e),this.change=new D,this.value=new F(t,this.element,this.change,s),this.icon=new L(t,this.value),this.code=new H(t),this.validation=new _(t,this.element,this.change,this.value,this.code,void 0,s),this.event=new A(t,this.change,this.value,this.validation,n)}update(){return this.value.update(),this}}class G{constructor(t,e,s){a(this,"checkbox"),a(this,"value",u(!1)),a(this,"iconBind",u({})),a(this,"checkValidity"),a(this,"validationMessage",u("")),a(this,"onInput",n=>{switch(n.target.type){case"checkbox":this.checkbox.event.onChecked(n);break;case"radio":this.checkbox.event.onRadio(n);break}}),this.checkbox=new T(t,e,()=>{this.update()},s),this.checkValidity=()=>this.checkbox.validation.checkValidity(),c(()=>this.checkbox.value.update()),c(()=>this.checkbox.validation.update()),c(()=>this.update())}update(){return this.value.value=this.checkbox.value.getBoolean(),this.iconBind.value=this.checkbox.icon.get(),this.validationMessage.value=this.checkbox.validation.getMessage(),this}}const U={disabled:d.disabled,helperMessage:d.helperMessage,validationMessage:d.validationMessage},J=function(i,t,e){const s=S(()=>({disabled:i==null?void 0:i.disabled,counter:i==null?void 0:i.counter,maxlength:i==null?void 0:i.maxlength,helperMessage:i==null?void 0:i.helperMessage,validationMessage:v(i==null?void 0:i.validationMessage)?i.validationMessage:O(e)}));return{messageBind:s,renderFieldMessage(){const n=[];return t&&t.renderAdd(n,"message",s.value),n}}};class et extends w{constructor(t,e,s){super(t,e,s),a(this,"checkbox"),a(this,"classesSkeleton"),a(this,"type","checkbox"),this.checkbox=new G(e,this.element,(n,l,h)=>{var r;(r=this.emits)==null||r.call(this,n,l,h)}),this.classesSkeleton=C.getClassesListByDesign(this.name[0]),this.init()}renderInput(){var t;const e=this.setup();return o("input",{class:e.classes.value.input,name:this.props.name,type:this.type,checked:e.value.value,readonly:this.props.readonly,disabled:e.isDisabled.value,value:((t=this.props)==null?void 0:t.valueVariant)??"1",on:this.props.on,onInput:e.onInput})}renderInputHidden(){return o("input",{name:this.props.name,type:"hidden",value:"0"})}renderBody(){const t=this.setup(),e=[t.renderChecked()];return t.isLabel.value&&e.push(t.renderInfo()),o("span",{class:t.classes.value.body},e)}renderChecked(){const t=this.setup(),e=[t.renderProgress(),o("span",{class:[t.classes.value.itemIcon,t.classesSkeleton.classBackgroundVariant]},[this.components.renderOne("icon",t.iconBind.value)])];return this.components.renderAdd(e,"ripple",{disabled:t.isDisabled.value}),o("span",{class:t.classes.value.item},e)}renderInfo(){const t=this.setup(),e=[...t.renderLabel(),...t.renderFieldMessage()];return o("span",{class:t.classes.value.info},e)}makeOptions(){return this}initSetup(){return{value:this.checkbox.value,iconBind:this.checkbox.iconBind,checkValidity:this.checkbox.checkValidity,validationMessage:this.checkbox.validationMessage,renderInput:()=>this.renderInput(),renderInputHidden:()=>this.renderInputHidden(),renderBody:()=>this.renderBody(),renderChecked:()=>this.renderChecked(),renderInfo:()=>this.renderInfo(),onInput:this.checkbox.onInput,...M(this.props,this.slots,[this.getSubClass(["info","label"]),this.classesSkeleton.classText]),...V(this.props),...E(this.props,this.components,this.getSubClass("loading"),{circular:!0,inverse:!0,dense:!0}),...J(this.props,this.components,this.checkbox.validationMessage),classesSkeleton:this.classesSkeleton}}initExpose(){const t=this.setup();return{value:t.value,checkValidity:t.checkValidity,validationMessage:t.validationMessage}}initClasses(){return{main:{},input:this.getSubClass("input"),body:this.getSubClass("body"),item:this.getSubClass("item"),itemIcon:this.getSubClass("item__icon"),loading:this.getSubClass("loading"),info:this.getSubClass("info"),infoLabel:this.getSubClass("info__label")}}initStyles(){return{}}initRender(){const t=this.setup(),e=[t.renderInputHidden(),t.renderInput(),t.renderBody()];return o("label",{...this.getAttrs(),ref:this.element,class:t.classes.value.main},e)}}const st={},it={...q,...U,value:Boolean,modelValue:Boolean,icon:[String,Object],indeterminate:Boolean,iconCheckbox:String,iconIndeterminate:String,required:Boolean,right:Boolean,focus:Boolean,disabled:Boolean};export{it as i,st as s,et as t};
