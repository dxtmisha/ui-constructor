"use strict";var g=Object.defineProperty;var h=(r,e,s)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var t=(r,e,s)=>(h(r,typeof e!="symbol"?e+"":e,s),s);const i=require("vue"),l=require("./DesignConstructorAbstract-BUcyMiAM.cjs"),a=require("./isFilled-BySHTEb1.cjs"),o=require("./toNumber-BpR23ePZ.cjs"),c={disabled:Boolean,counter:[String,Number],maxlength:[String,Number],helperMessage:String,validationMessage:String};class m{constructor(e){this.props=e}is(){return!!this.get()}isValidation(){var e;return a.isFilled((e=this.props)==null?void 0:e.validationMessage)}get(){var e;if(this.isValidation())return this.props.validationMessage;if(a.isFilled((e=this.props)==null?void 0:e.helperMessage))return this.props.helperMessage}}class d{constructor(e){this.props=e}is(){return this.getCounter()>0||this.isMax()}isMax(){return this.getMax()>0}get(){return this.isMax()?`${this.getCounter()} / ${this.getMax()}`:this.getCounter().toString()}getCounter(){var e;return o.toNumber(((e=this.props)==null?void 0:e.counter)??0)}getMax(){var e;return o.toNumber(((e=this.props)==null?void 0:e.maxlength)??0)}}class p{constructor(e){t(this,"message");t(this,"counter");this.props=e,this.message=new m(e),this.counter=new d(e)}is(){var e;return!((e=this.props)!=null&&e.disabled)&&(this.message.is()||this.counter.is())}classes(){return{"??--validation":this.message.isValidation()}}}class M{constructor(e){t(this,"item");t(this,"is",i.computed(()=>this.item.is()));t(this,"isMessage",i.computed(()=>this.item.message.is()));t(this,"isValidation",i.computed(()=>this.item.message.isValidation()));t(this,"isCounter",i.computed(()=>this.item.counter.is()));t(this,"isMax",i.computed(()=>this.item.counter.isMax()));t(this,"message",i.computed(()=>this.item.message.get()));t(this,"counter",i.computed(()=>this.item.counter.get()));t(this,"classes",i.computed(()=>this.item.classes()));this.item=new p(e)}}class v extends l.DesignConstructorAbstract{constructor(s,n,u){super(s,n,u);t(this,"message");t(this,"renderInfo",()=>{const s=this.setup();return i.h("div",{key:"message",class:s.classes.value.info,innerHTML:s.message.value})});t(this,"renderCounter",()=>{const s=this.setup();return i.h("div",{key:"counter",class:s.classes.value.counter,innerHTML:s.counter.value})});this.message=new M(n),this.init()}makeOptions(){return this}initSetup(){return{is:this.message.is,isMessage:this.message.isMessage,isValidation:this.message.isValidation,isCounter:this.message.isCounter,isMax:this.message.isMax,message:this.message.message,counter:this.message.counter,renderInfo:this.renderInfo,renderCounter:this.renderCounter}}initExpose(){return{}}initClasses(){return{main:{...this.toClassName(this.message.classes.value)},info:this.getSubClass("info"),counter:this.getSubClass("counter")}}initStyles(){return{}}initRender(){const s=this.setup(),n=[];if(s.isMessage.value&&n.push(s.renderInfo()),s.isCounter.value&&n.push(s.renderCounter()),s.is.value)return i.h("div",{...this.getAttrs(),ref:this.element,key:"main",class:s.classes.value.main},n)}}exports.FieldMessageDesign=v;exports.propsFieldMessage=c;
