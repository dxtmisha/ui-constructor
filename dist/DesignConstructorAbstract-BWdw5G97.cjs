"use strict";var S=Object.defineProperty;var b=(r,t,e)=>t in r?S(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var a=(r,t,e)=>(b(r,typeof t!="symbol"?t+"":t,e),e);const u=require("vue"),c=require("./forEach-AdslABYj.cjs"),o=require("./toArray-C_3YLL9r.cjs");function l(r){return c.isObject(r)&&!Array.isArray(r)}function f(r){return r.toString().trim().replace(/[^\w- ]+/g,"").replace(/ +/g,"-").replace(new RegExp("(?<=[A-Z])([A-Z])","g"),t=>`${t.toLowerCase()}`).replace(/-+([a-zA-Z0-9])/g,(...t)=>`${t[1].toUpperCase()}`).replace(/^([A-Z])/,t=>`${t.toLowerCase()}`)}function h(r){return u.isRef(r)?r.value:r}function m(r){return r&&"class"in r&&typeof r.class=="string"?r.class:void 0}function d(r,t,e){const s=m(t);return e&&s?`${e}.${s}`:e||s||r}function g(r,t,e,s){const i=d(r,t,s);return u.h(r,{key:i,...t},e)}class y{constructor(t={},e){this.components=t,this.modification=e}is(t){return t in this.components}get(t){var e;return(e=this.components)==null?void 0:e[t]}getModification(t,e){var s;if(t){const i=h((s=this.modification)==null?void 0:s[t]);if(i&&l(i)){const n={};return c.forEach(i,(C,A)=>{n[A]=h(C)}),e&&Object.assign(n,e),n}}return e}render(t,e,s,i){const n=this.renderOne(t,e,s,i);return n?[n]:[]}renderOne(t,e,s,i){if(this.is(t)){const n=i??t;return g(this.get(t),this.getModification(n,e),s,n)}}renderAdd(t,e,s,i,n){return t.push(...this.render(e,s,i,n)),this}}class N{constructor(t,e,s){a(this,"name");a(this,"element",u.ref());a(this,"refs");a(this,"components");a(this,"emits");a(this,"classes");a(this,"classesSub");a(this,"styles");a(this,"stylesSub");a(this,"attrs");a(this,"slots");a(this,"data");a(this,"dataExpose");this.props=e,this.name=this.initName(t),this.refs=this.props?u.toRefs(this.props):{},this.components=new y(s==null?void 0:s.components,s==null?void 0:s.compMod),this.emits=s==null?void 0:s.emits,this.classes=s==null?void 0:s.classes,this.styles=s==null?void 0:s.styles,this.attrs=u.useAttrs(),this.slots=u.useSlots()}init(){return this.makeOptions(),this.classesSub=u.computed(()=>this.initClasses()),this.stylesSub=u.computed(()=>this.initStyles()),this.data={name:this.getName(),element:this.element,classes:u.computed(()=>this.updateClasses()),styles:u.computed(()=>this.updateStyles()),...this.initSetup()},this.dataExpose=this.initExpose(),this}getName(){return this.name.join("-")}getSubClass(t){return`${this.getName()}__${o.toArray(t).join("__")}`}getStatusClass(t){return`${this.getName()}--${o.toArray(t).join("--")}`}getStyle(t){return`--${this.getName()}-sys-${o.toArray(t).join("-")}`}getAttrs(){const t={...this.attrs??{}};return"class"in t&&delete t.class,"style"in t&&delete t.style,t}setup(){return this.data??{}}expose(){return this.dataExpose??{}}render(){return()=>this.initRender()}initSlot(t,e,s={}){var i;if(this.slots&&((i=this.slots)!=null&&i[t])&&typeof this.slots[t]=="function"){const n=this.slots[t](s);return e&&e.push(n),n}}toClassName(t){if(c.isObject(t)){const e={};return c.forEach(t,(s,i)=>{i.match(/\?\?/)?e[i.replace(/\?\?/,this.getName())]=s:i.match(/\?/)?e[i.replace(/\?/,this.name[0])]=s:e[i]=s}),e}return{}}initName(t){return c.forEach(t.split(".",2),e=>f(e))}updateClasses(){var s,i;const t=(s=this.classesSub)==null?void 0:s.value,e=(i=this.classes)==null?void 0:i.value;return t&&e?{...t,...e,main:{...this.toClass(t==null?void 0:t.main),...this.toClass(e==null?void 0:e.main)}}:e??{main:{}}}updateStyles(){var s,i;const t=(s=this.stylesSub)==null?void 0:s.value,e=(i=this.styles)==null?void 0:i.value;return t&&e?{...t,...e}:e??{}}toClass(t){return l(t)?t:Array.isArray(t)?{[t.filter(s=>typeof s=="string"&&s.trim()!=="").join(" ")]:!0}:typeof t=="string"?{[t]:!0}:{}}}exports.DesignComponents=y;exports.DesignConstructorAbstract=N;exports.getClassName=m;exports.getIndexForRender=d;exports.getRef=h;exports.isObjectNotArray=l;exports.render=g;exports.toCamelCase=f;
