// This file is generated by a script, do not edit.
// Этот файл генерируется скриптом, не редактировать.

import { addComponent, addImports, defineNuxtModule } from '@nuxt/kit'
import uiVitePlugin from 'ui/vite-plugin-vue-ui'

export default defineNuxtModule({
  meta: {
    name: 'ui',
    version: '0.0.0-dev.3'
  },
  async setup (_, nuxt) {
    nuxt.options.css.push('ui/style.css')
    nuxt.options.build.transpile = [
      /ui\/dist\/(m2|m3|c1|c2)/i
    ]

    nuxt.hook('vite:extendConfig', (config) => {
      const options = {
        importComponents: false,
        icon: true,
        flag: true,
        style: 'm3'
      }
      console.log(config)
      if (config?.plugins) {
        config.plugins.push(uiVitePlugin(options))
      } else {
        config.plugins = [uiVitePlugin(options)]
      }
    })

    addImports({
      name: 'uiRegistrationBasic',
      from: 'ui/registration-basic'
    })

    await addComponent({
      name: 'M2Button',
      filePath: 'ui/dist/M2Button.vue'
    })
    await addComponent({
      name: 'M2Icon',
      filePath: 'ui/dist/M2Icon.vue'
    })
    await addComponent({
      name: 'M2Image',
      filePath: 'ui/dist/M2Image.vue'
    })
    await addComponent({
      name: 'M2Progress',
      filePath: 'ui/dist/M2Progress.vue'
    })
    await addComponent({
      name: 'M2Ripple',
      filePath: 'ui/dist/M2Ripple.vue'
    })
    await addComponent({
      name: 'M2Skeleton',
      filePath: 'ui/dist/M2Skeleton.vue'
    })
    await addComponent({
      name: 'M3Button',
      filePath: 'ui/dist/M3Button.vue'
    })
    await addComponent({
      name: 'M3Checkbox',
      filePath: 'ui/dist/M3Checkbox.vue'
    })
    await addComponent({
      name: 'M3FieldMessage',
      filePath: 'ui/dist/M3FieldMessage.vue'
    })
    await addComponent({
      name: 'M3Icon',
      filePath: 'ui/dist/M3Icon.vue'
    })
    await addComponent({
      name: 'M3Image',
      filePath: 'ui/dist/M3Image.vue'
    })
    await addComponent({
      name: 'M3Input',
      filePath: 'ui/dist/M3Input.vue'
    })
    await addComponent({
      name: 'M3Mask',
      filePath: 'ui/dist/M3Mask.vue'
    })
    await addComponent({
      name: 'M3Mutation',
      filePath: 'ui/dist/M3Mutation.vue'
    })
    await addComponent({
      name: 'M3MutationItem',
      filePath: 'ui/dist/M3MutationItem.vue'
    })
    await addComponent({
      name: 'M3Progress',
      filePath: 'ui/dist/M3Progress.vue'
    })
    await addComponent({
      name: 'M3Ripple',
      filePath: 'ui/dist/M3Ripple.vue'
    })
    await addComponent({
      name: 'M3Scrollbar',
      filePath: 'ui/dist/M3Scrollbar.vue'
    })
    await addComponent({
      name: 'M3Skeleton',
      filePath: 'ui/dist/M3Skeleton.vue'
    })
    await addComponent({
      name: 'M3SkeletonItem',
      filePath: 'ui/dist/M3SkeletonItem.vue'
    })
    await addComponent({
      name: 'M3Window',
      filePath: 'ui/dist/M3Window.vue'
    })
    await addComponent({
      name: 'C1Button',
      filePath: 'ui/dist/C1Button.vue'
    })
    await addComponent({
      name: 'C1Icon',
      filePath: 'ui/dist/C1Icon.vue'
    })
    await addComponent({
      name: 'C1Image',
      filePath: 'ui/dist/C1Image.vue'
    })
    await addComponent({
      name: 'C1Progress',
      filePath: 'ui/dist/C1Progress.vue'
    })
    await addComponent({
      name: 'C1Ripple',
      filePath: 'ui/dist/C1Ripple.vue'
    })
    await addComponent({
      name: 'C2Button',
      filePath: 'ui/dist/C2Button.vue'
    })
    await addComponent({
      name: 'C2Checkbox',
      filePath: 'ui/dist/C2Checkbox.vue'
    })
    await addComponent({
      name: 'C2FieldMessage',
      filePath: 'ui/dist/C2FieldMessage.vue'
    })
    await addComponent({
      name: 'C2Icon',
      filePath: 'ui/dist/C2Icon.vue'
    })
    await addComponent({
      name: 'C2Image',
      filePath: 'ui/dist/C2Image.vue'
    })
    await addComponent({
      name: 'C2Mutation',
      filePath: 'ui/dist/C2Mutation.vue'
    })
    await addComponent({
      name: 'C2MutationItem',
      filePath: 'ui/dist/C2MutationItem.vue'
    })
    await addComponent({
      name: 'C2Progress',
      filePath: 'ui/dist/C2Progress.vue'
    })
    await addComponent({
      name: 'C2Ripple',
      filePath: 'ui/dist/C2Ripple.vue'
    })
    await addComponent({
      name: 'C2Skeleton',
      filePath: 'ui/dist/C2Skeleton.vue'
    })
  }
})
